Остановился тут https://www.firegiant.com/wix/tutorial/getting-started/the-files-inside/

[Мануал 1](https://www.firegiant.com/wix/tutorial/)

[Мануал 2](https://wixtoolset.org/documentation/manual/v3/)

Разработан Microsoft, опирается на их технологию установки Windos Installer, соответственно полностью поддерживает ее функционал. MS сами используют WiX для создания установочников своих продуктов, например, MS Office. Даже за самым простым установочником, который скопирует файлы в нужную директорию, кроется много удобных вещей, автоматизированных для нас, вроде добавления программы в "Программы и компоненты", помещение в меню Пуск и так далее.

Процесс установки приложения описывается с помощью XML, т.е. является декларативным, а не императивным инструментом. Компилится и линкуется как обычная программа.

Процесс установки может включать в себя: копирование файлов, установку драйверов, установку значений в регистре, запуск служб.

Каждому компоненту, участвующему в установке, нужно дать GUID, причем обязательно большими буквами.



# Всякое вперемешку

Чтобы в VS появился тип проекта WiX, нужно не только установить WiX, но и расширение для VS.

Для установки WiX требовал .NET Framework 3.5, после его установки поставился нормально.

Установочник добавляется как обычная сборка в проект, если поискать в списке, то можно найти WiX Setup и какие-то другие вещи. XML-ка пишется в .wxs файле.

[Список](https://docs.microsoft.com/en-us/previous-versions//aa372057(v=vs.85)?redirectedfrom=MSDN) ключевых виндовых директорий, которые понимает WiX.



## Директория установки

```xaml
<Directory Id="TARGETDIR" Name="SourceDir">
    <Directory Id="ProgramFilesFolder">
        <Directory Id="INSTALLFOLDER" Name="MySetup" />
    </Directory>
</Directory>
```

Вот тут похоже `TARGETDIR` намекает на то, что этот тег описывает корневую директорию для установки. `ProgramFilesFolder` - встроенная константа с путем до 32х-рарядной папки ПФ. `INSTALLFOLDER` пока хз, может быть имя папки установки. Хотя [тут](https://www.firegiant.com/wix/tutorial/getting-started/the-files-inside/) структура немного другая.

## Понятия

* Компонент - это минимальная единица установки. Каждый компонент обладает собственными ресурсами - файлы, ключи регистра, ярлыки. Компоненты принципиально независимы - установка\удаление одного никак не должно влиять на другие. Поэтому они не могут разделять ресурсы - у каждого свои, которые устанавливаются и удаляются исключительно вместе. Пока не понятно, как именно это работает. Но грубо говоря я уже прочитал, что если установке требуется exe, 3 dll и еще какие-нибудь файлы с данными, это не значит, что все это входит в один компонент.

# Вопросы

Список возникавших по ходу вопросов:

- [ ] Проверить использование русского языка в установочнике. Нужны ли какие-то доп манипуляции? Вот [тут](https://www.firegiant.com/wix/tutorial/getting-started/the-software-package/) снизу говорилось о выборе языка.

- [ ] Есть какой-то .cab файл - архив. Возможно, в него включаются все файлы, которые требуются установщику?