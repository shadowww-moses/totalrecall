# Виды синтаксиса Linq

## Текучий синтаксис (fluent)

```c#
string[] names = { "Tom", "Harry", "Mary", "Jay" };
var filter = names
    .Where(n => n.Contains("a"))
    .OrderBy(n => n.Length);
```

Исходная последовательность попадет на вход команды Where, которая пройдется по каждому имени и, если оно содержит букву "a", то добавит его в выходную последовательность. Когда все имена будут обработаны командой Where, полученная последовательность попадет на вход команды OrderBy, которая вернет отсортированную последовательность. Переменная n является локальной для каждой операции и представляет собой **очередной элемент последовательности**, в данном случае это имена. 

## Синтаксис запросов

```c#
string[] names = { "Tom", "Harry", "Mary", "Jay" };
var filter = from n
             in names
             where n.Contains("a")
             orderby n.Length
             select n;
```

## Смешанный синтаксис

```c#
string[] names = { "Tom", "Harry", "Mary", "Jay" };
var count = (from n in names where n.Contains("a") select n).Count();
```

Синтаксисы в большинстве случаев взаимозаменяемы, хотя в зависимости от задачи какой-то определенный вид может быть удобнее. Например, смешанный синтаксис иногда позволяет сделать запрос визуально более наглядным:

```c#
// Выбрать имена с минимальной длиной
string[] names = { "Tom", "Harry", "James", "Mary", "Jay" };

var fluentStyle = names.Where(n => n.Length == names.Select(ni => ni.Length).Min());

var mixedStyle = from n in names
                 where n.Length == names.Select(ni => ni.Length).Min()
                 select n;
```

Однако синтаксис запросов бывает значительно удобнее, особенно когда приходится соединять несколько источников или иметь дело с несколькими переменными диапазона или выбирать не одно единственное значение, а несколько в анонимный тип или специально заведенный собственный тип.