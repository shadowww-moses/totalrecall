# Замена и разделение текста





# Таймаут для регулярного выражения

Начиная с версии фреймворка 4.5 для регулярного выражения можно  настроить ограничение по времени вычисления. Это может быть полезно в  случае поступления в программу некорректного регулярного выражения  извне, которое может ее повесить. Таймаут задается в четвертом параметре методов поиска:

```c#
string input = "Good mood";
var matches = Regex.Matches(
    input, @"\w?ood",
    RegexOptions.None,
	TimeSpan.FromSeconds(10)
);
```



# Скомпилированные регулярные выражения

Если есть текст, в котором требуется многократно искать разные  совпадения, то можно воспользоваться техникой скомпилированных  регулярных выражений. Для этого надо создать объект Regex со специальным параметром `RegexOptions.Compiled`:

```c#
string input = "Good mood";
var reg = new Regex(input, RegexOptions.Compiled);

// Теперь вызываем метод уже на объекте, а не на классе
var matches = reg.Matches(@"\w?ood");

foreach (Match m in matches)
{
    Console.WriteLine($"{m.Index}, {m.Value}");
}
```

Стоит отметить, что регулярные выражения и так работают очень быстро. Поэтому данный способ используется не часто.