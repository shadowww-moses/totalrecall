# 8 Executable Code and Execution Contexts

# 8.1Lexical Environments 

► A  Lexical Environment is a specification type used to define the association of [Identifier](https://www.ecma-international.org/ecma-262/10.0/index.html#prod-Identifier)s to specific variables and functions based upon the lexical nesting  structure of ECMAScript code. A Lexical Environment consists of an [Environment Record](https://www.ecma-international.org/ecma-262/10.0/index.html#sec-environment-records) and a possibly null reference to an  *outer* Lexical Environment. Usually a Lexical Environment is associated with  some specific syntactic structure of ECMAScript code such as a [FunctionDeclaration](https://www.ecma-international.org/ecma-262/10.0/index.html#prod-FunctionDeclaration), a [BlockStatement](https://www.ecma-international.org/ecma-262/10.0/index.html#prod-BlockStatement), or a [Catch](https://www.ecma-international.org/ecma-262/10.0/index.html#prod-Catch) clause of a [TryStatement](https://www.ecma-international.org/ecma-262/10.0/index.html#prod-TryStatement) and a new Lexical Environment is created each time such code is evaluated.

►► **Лексическое Окружение** - это специальный тип, используемый для связи идентификаторов с конкретными переменными и функциями на основании лексической вложенности кода. 

> association of [Identifier](https://www.ecma-international.org/ecma-262/10.0/index.html#prod-Identifier)s to specific variables and functions - что это значит? Типа под каждую переменную и функцию, например, создается какой-то объект и ссылка на этот объект связывается с "идентификатором" (именем) в объекте ЛО { идент: ссылка-на-переменную-в-памяти} ?

Лексическое окружение состоит из **Записи окружения** и ссылки на *внешнее* лексическое окружение, которая может быть null. Обычно лексическое окружение связано со специальными синтаксическими структурами вроде *FunctionDeclaration*, *BlockStatement*, блока *Catch*. Каждый раз, когда код вычисляется, создается новое лексическое окружение.

---

►An [Environment Record](https://www.ecma-international.org/ecma-262/10.0/index.html#sec-environment-records) records the identifier bindings that are created within the scope of  its associated Lexical Environment. It is referred to as the Lexical  Environment's  EnvironmentRecord.

►► **Запись окружения** хранит привязки идентификаторов, созданных внутри области связанного с ней лексического окружения. Запись окружения поэтому называется Записью окружения лесического окружения.

---

The outer environment reference is used to model the logical  nesting of Lexical Environment values. The outer reference of a (inner)  Lexical Environment is a reference to the Lexical Environment that  logically surrounds the inner Lexical Environment. An outer Lexical  Environment may, of course, have its own outer Lexical Environment. A  Lexical Environment may serve as the outer environment for multiple  inner Lexical Environments. For example, if a [FunctionDeclaration](https://www.ecma-international.org/ecma-262/10.0/index.html#prod-FunctionDeclaration) contains two nested [FunctionDeclaration](https://www.ecma-international.org/ecma-262/10.0/index.html#prod-FunctionDeclaration)s then the Lexical Environments of each of the nested functions will have as their outer Lexical Environment the Lexical Environment of the  current evaluation of the surrounding function.

A  global environment is a Lexical Environment which does not have an outer environment. The [global environment](https://www.ecma-international.org/ecma-262/10.0/index.html#global-environment)'s outer environment reference is null. A [global environment](https://www.ecma-international.org/ecma-262/10.0/index.html#global-environment)'s EnvironmentRecord may be prepopulated with identifier bindings and includes an associated [global object](https://www.ecma-international.org/ecma-262/10.0/index.html#sec-global-object) whose properties provide some of the [global environment](https://www.ecma-international.org/ecma-262/10.0/index.html#global-environment)'s identifier bindings. As ECMAScript code is executed, additional properties may be added to the [global object](https://www.ecma-international.org/ecma-262/10.0/index.html#sec-global-object) and the initial properties may be modified.

A  module environment is a Lexical Environment that contains the bindings for the top level declarations of a [Module](https://www.ecma-international.org/ecma-262/10.0/index.html#prod-Module). It also contains the bindings that are explicitly imported by the [Module](https://www.ecma-international.org/ecma-262/10.0/index.html#prod-Module). The outer environment of a [module environment](https://www.ecma-international.org/ecma-262/10.0/index.html#module-environment) is a [global environment](https://www.ecma-international.org/ecma-262/10.0/index.html#global-environment).

A  function environment is a Lexical Environment that corresponds to the invocation of an ECMAScript [function object](https://www.ecma-international.org/ecma-262/10.0/index.html#function-object). A [function environment](https://www.ecma-international.org/ecma-262/10.0/index.html#function-environment) may establish a new `this` binding. A [function environment](https://www.ecma-international.org/ecma-262/10.0/index.html#function-environment) also captures the state necessary to support `super` method invocations.

Lexical Environments and [Environment Record](https://www.ecma-international.org/ecma-262/10.0/index.html#sec-environment-records) values are purely specification mechanisms and need not correspond to  any specific artefact of an ECMAScript implementation. It is impossible  for an ECMAScript program to directly access or manipulate such values.