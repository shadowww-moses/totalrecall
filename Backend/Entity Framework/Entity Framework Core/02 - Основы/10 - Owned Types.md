# Owned Types

> Возникла проблема с созданием OT. Решить пока не удалось.
>
> The type 'Uzername' cannot be marked as owned because a non-owned entity type with the same name already exists.
>
> Пробовал менять имя поля, чтобы оно отличалось от имени типа, не помогло. Гугление ответа не дало

Есть категория объектов, которые не имеют идентификатора (ключа). В терминах DDD они называются Value Objects. 

Однако в EF все сущности должны иметь ключ. Поэтому для решения этого вопроса и хранения такой категории объектов существуют Owned Types.

## Создание OT

* Создаем обычный класс:

  <img src="img\image-20200508144643851.png" alt="image-20200508144643851" style="zoom:80%;" />

  Обязательно должен присутствовать конструктор без параметров. Можно сделать его приватным, это неважно, потому что EF получает его через рефлексию.

* Добавляем поле этого типа в желаемый класс:

  <img src="img\image-20200508145432350.png" alt="image-20200508145432350" style="zoom:80%;" />

* В `OnModelCreating` контекста явно указываем, что это не сущность, а Owned Type

